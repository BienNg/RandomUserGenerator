<!doctype html>
<html>

    <head>
    	<title>Random User Generator</title>
        <script src="jquery-3.3.1.min.js"></script>

        <style type="text/css">
            form{
                margin-top: 10px;
                margin-bottom: 10px;
            }
        </style>

    	<script>
    		function generateUser(){

                var genderInput = document.forms["formGender"]["gender"].value
                var myUrl = 'https://randomuser.me/api/?nat=de' 
                console.log(genderInput)
                if(genderInput == "male"){
                    myUrl = 'https://randomuser.me/api/?nat=de&gender=male'    
                }else if(genderInput == "female"){
                    myUrl = 'https://randomuser.me/api/?nat=de&gender=female'
                }
                

                $.ajax({
                    type: 'GET',
                    url: myUrl,
                    success: function(data) {
                        var anrede = data["results"][0]["name"]["title"]
                        var vorname = data["results"][0]["name"]["first"]
                        var nachname = data["results"][0]["name"]["last"]
                        var land = data["results"][0]["nat"]
                        var stadt = data["results"][0]["location"]["city"]
                        stadt = stadt.split(' ')
                        for (var i = 0; i < stadt.length; i++) {
                            stadt[i] = stadt[i].charAt(0).toUpperCase() + stadt[i].slice(1)
                        }  
                        var straße = data["results"][0]["location"]["street"]
                        straße = straße.split(' ',)
                        for (var i = 0; i < straße.length; i++) {
                            straße[i] = straße[i].charAt(0).toUpperCase() + straße[i].slice(1)
                        }    

                        document.getElementById("txtTitle").innerHTML = "Anrede: " + anrede.charAt(0).toUpperCase() + anrede.slice(1)
                        document.getElementById("txtFirstName").innerHTML = "Vorname: " + vorname.charAt(0).toUpperCase() + vorname.slice(1)
                        document.getElementById("txtLastName").innerHTML = "Nachname: " + nachname.charAt(0).toUpperCase() + nachname.slice(1)
                        document.getElementById("txtLand").innerHTML = "Land: "  + land
                        document.getElementById("txtStadt").innerHTML = "Stadt: "  + stadt.join(" ")
                        document.getElementById("txtStraße").innerHTML = "Straße: "  + straße.join(" ")
                        document.getElementById("txtPlz").innerHTML = "PLZ: "  + data["results"][0]["location"]["postcode"]
                        document.getElementById("txtEmail").innerHTML = "Email: " 
                                                                            + data["results"][0]["name"]["first"] + "." 
                                                                            + data["results"][0]["name"]["last"] 
                                                                            + data["results"][0]["nat"]
                                                                            +"@webmail.diconium.com"
                        document.getElementById("txtPsw").innerHTML = "Passwort: Test1234!"
                    }
                });
        		}

        		function clearUser(){
                        document.getElementById("txtTitle").innerHTML = ""
                        document.getElementById("txtFirstName").innerHTML = ""
                        document.getElementById("txtLastName").innerHTML = ""
                        document.getElementById("txtLand").innerHTML = ""
                        document.getElementById("txtStadt").innerHTML = ""
                        document.getElementById("txtStraße").innerHTML = ""
                        document.getElementById("txtPlz").innerHTML = ""
                        document.getElementById("txtEmail").innerHTML = "" 
                        document.getElementById("txtPsw").innerHTML = ""
    		}

    	</script>
    </head>

    <body>
    	<h1>Generate random user.</h1>

        <h3>Geshhlecht</h3>

        <form name="formGender">
            <input type="radio" name="gender" value="random" checked="true">Zufällig<br>
            <input type="radio" name="gender" value="male">Männlich<br>
            <input type="radio" name="gender" value="female">Weiblich
        </form>

    	<input type="button" class="floated" id="bttnGenerateUser" onclick="generateUser()" value="Generate User"></input>
    	<input type="button" class="floated" id="bttnClearUser" onclick="clearUser()" value="Clear User"></input>
        <h2>Benutzer: </h2>
        <p id="txtTitle"></p>
    	<p id="txtFirstName"></p>
    	<p id="txtLastName"></p>
    	<p id="txtLand"></p>
        <p id="txtStadt"></p>
        <p id="txtStraße"></p>
        <p id="txtPlz"></p>
        <p id="txtEmail"></p>
        <p id="txtPsw"></p>

        <h2>Acceptance Criteria:</h2>

        The interface provides configuration options for: 
        
        <ul>
            <li>Gender</li>
            <li>Country</li>
            <li>Including/ Excluding fields</li>
        </ul>

        The interface submits a REST API call to <a href = "https://randomuser.me/" target="_blank">randomuser.me<a> and then receives, processes and displays the result in human readable form:

        <ul>
            <li>Gender</li>
            <li>Salutation</li>
            <li>Title</li>
            <li>First Name</li>
            <li>Last Name</li>
            <li>Address</li>
            <li>Street Name</li>
            <li>Housenumber</li>
            <li>Postal Code</li>
            <li>City</li>
            <li>Email address - @example.com is automatically replaced by @mailtest.dicomium.com</li>
        </ul>
    </body>
</html>